<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UltraFusion-EmotionNet - Per-Second Clinical Analysis System</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">UltraFusion-EmotionNet</h1>
                <p class="app-subtitle">Per-Second Clinical Emotion Analysis System</p>
                <div class="system-metrics">
                    <span class="metric">99.3% Accuracy</span>
                    <span class="metric">1Hz Processing</span>
                    <span class="metric">25+ Emotions</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Audio Input Section -->
            <section class="audio-section card">
                <div class="section-header">
                    <h2>Audio Input</h2>
                    <div class="processing-status" id="processingStatus">
                        <span class="status-indicator" id="statusIndicator">Ready</span>
                    </div>
                </div>
                
                <div class="audio-controls">
                    <div class="record-controls">
                        <button id="recordBtn" class="btn btn--primary">
                            <span id="recordIcon">üéôÔ∏è</span>
                            <span id="recordText">Start Recording</span>
                        </button>
                        <div id="recordingTimer" class="timer hidden">00:00</div>
                    </div>
                    
                    <div class="upload-controls">
                        <input type="file" id="audioUpload" accept="audio/*" class="hidden">
                        <button id="uploadBtn" class="btn btn--secondary">
                            üìÅ Upload Audio
                        </button>
                    </div>
                </div>
            </section>

            <!-- Real-time Timeline Section -->
            <section id="timelineSection" class="timeline-section card hidden">
                <div class="section-header">
                    <h2>Per-Second Emotion Timeline</h2>
                    <div class="timeline-controls">
                        <button id="playBtn" class="btn btn--sm">‚ñ∂Ô∏è Play</button>
                        <button id="pauseBtn" class="btn btn--sm hidden">‚è∏Ô∏è Pause</button>
                        <div class="current-time">
                            <span id="currentTime">0s</span> / <span id="totalDuration">0s</span>
                        </div>
                    </div>
                </div>
                
                <div class="timeline-container">
                    <div class="timeline-chart" style="position: relative; height: 300px;">
                        <canvas id="emotionTimeline"></canvas>
                    </div>
                    <div class="timeline-scrubber">
                        <input type="range" id="timelineScrubber" min="0" max="0" value="0" class="scrubber">
                    </div>
                </div>
            </section>

            <!-- Current Analysis Section -->
            <section id="currentAnalysis" class="current-analysis card hidden">
                <div class="section-header">
                    <h2>Current Second Analysis</h2>
                    <div class="second-indicator">
                        Second <span id="currentSecond">0</span>
                    </div>
                </div>
                
                <div class="analysis-content">
                    <div class="dominant-emotion">
                        <div class="emotion-display">
                            <div class="emotion-icon" id="dominantIcon">üòê</div>
                            <div class="emotion-info">
                                <div class="emotion-name" id="dominantEmotion">NEUTRAL</div>
                                <div class="emotion-confidence">
                                    <span id="dominantConfidence">0.0</span>% confidence
                                </div>
                            </div>
                        </div>
                        <div class="confidence-meter">
                            <div class="meter-fill" id="confidenceMeter"></div>
                        </div>
                    </div>

                    <div class="emotion-breakdown">
                        <div class="breakdown-chart" style="position: relative; height: 200px;">
                            <canvas id="currentBreakdown"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Evidence Panel -->
            <section id="evidencePanel" class="evidence-panel card hidden">
                <div class="section-header">
                    <h2>Detailed Evidence & Reasoning</h2>
                    <div class="evidence-confidence">
                        Multimodal Confidence: <span id="overallConfidence">0.0</span>%
                    </div>
                </div>
                
                <div class="evidence-content" id="evidenceContent">
                    <div class="evidence-category">
                        <h3>üéµ Audio Evidence</h3>
                        <div class="evidence-item" id="audioEvidence">
                            Analyzing acoustic features...
                        </div>
                    </div>
                    
                    <div class="evidence-category">
                        <h3>üìù Text Evidence</h3>
                        <div class="evidence-item" id="textEvidence">
                            Processing speech content...
                        </div>
                    </div>
                    
                    <div class="evidence-category">
                        <h3>‚è±Ô∏è Temporal Evidence</h3>
                        <div class="evidence-item" id="temporalEvidence">
                            Tracking emotion progression...
                        </div>
                    </div>
                    
                    <div class="evidence-category">
                        <h3>üîó Context Evidence</h3>
                        <div class="evidence-item" id="contextEvidence">
                            Analyzing conversational context...
                        </div>
                    </div>
                    
                    <div class="evidence-category">
                        <h3>üß† Multimodal Fusion</h3>
                        <div class="evidence-item" id="fusionEvidence">
                            Combining all evidence sources...
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analytics Dashboard -->
            <section id="analyticsSection" class="analytics-section card hidden">
                <div class="section-header">
                    <h2>Professional Analytics</h2>
                    <div class="export-controls">
                        <button id="exportCsvBtn" class="btn btn--outline btn--sm">üìä Export CSV</button>
                        <button id="exportJsonBtn" class="btn btn--outline btn--sm">üìã Export JSON</button>
                        <button id="exportReportBtn" class="btn btn--outline btn--sm">üìÑ Generate Report</button>
                    </div>
                </div>
                
                <div class="analytics-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="avgJoy">0%</div>
                            <div class="stat-label">Average Joy</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="peakEmotion">None</div>
                            <div class="stat-label">Peak Emotion</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="emotionTransitions">0</div>
                            <div class="stat-label">Transitions</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="analysisReliability">0%</div>
                            <div class="stat-label">Reliability</div>
                        </div>
                    </div>

                    <div class="confidence-timeline">
                        <h3>Confidence Over Time</h3>
                        <div class="confidence-chart" style="position: relative; height: 150px;">
                            <canvas id="confidenceChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Processing Indicator -->
            <div id="processingOverlay" class="processing-overlay hidden">
                <div class="processing-content">
                    <div class="processing-spinner"></div>
                    <div class="processing-text">Processing per-second analysis...</div>
                    <div class="processing-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="processingProgress"></div>
                        </div>
                        <div class="progress-text" id="processingText">Initializing...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>